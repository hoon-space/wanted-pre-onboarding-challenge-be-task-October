### Q. 본인이 주력으로 사용하는 언어(Java)에서 ArrayList가 내부적으로 어떻게 동작하는지 한 가지 사례를 정하여 작성해주세요. <br/><br/>

### A.
ArrayList Collection에서 아이템 삽입(추가)이 어떻게 일어나는지 확인해보겠습니다. <br/><br/>

```java
transient Object[] elementData;

private static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = {};
```
elementData: arrayList 요소가 저장되는 배열 버퍼입니다. <br/>
DEFAULTCAPACITY_EMPTY_ELEMENTDATA: 초기에는 비어있는 Object 배열 -> 아이템 추가하고 삭제할 때 이 배열에 추가되고 삭제됩니다. <br/><br/>

```java
public boolean add(E e) {
    modCount++;  
    add(e, elementData, size);
    return true;
}

private void add(E e, Object[] elementData, int s) { 
    if (s == elementData.length)  
        elementData = grow();  
    elementData[s] = e;  
    size = s + 1;  
}
```
아이템을 추가하는 add() 메소드입니다. <br/>
modCount: ArrayList가 얼마나 수정되었는지 체크하는 필드입니다. <br/>
size: ArrayList에 포함된 아이템 수를 나타냅니다. <br/><br/>

public add() 메소드 안에서 호출하는 private add() 메소드에서는 <br/>
grow() 메소드를 확인할 수 있는데 해당 관련 로직입니다. <br/><br/>

```java
private Object[] grow() {  
    return grow(size + 1);
}

private Object[] grow(int minCapacity) {
    return elementData = Arrays.copyOf(elementData, newCapacity(minCapacity));  
}

private int newCapacity(int minCapacity) {  
    int oldCapacity = elementData.length; 
    
    int newCapacity = oldCapacity + (oldCapacity >> 1); 
    
    if (newCapacity - minCapacity <= 0) { 
        if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA)  
            return Math.max(DEFAULT_CAPACITY, minCapacity);
        if (minCapacity < 0)
            throw new OutOfMemoryError();  
        return minCapacity;  
    }  
    
    return (newCapacity - MAX_ARRAY_SIZE <= 0)  
        ? newCapacity  
        : hugeCapacity(minCapacity);  
}
```
elementData 배열의 s index(자리)에 아이템을 저장하고, <br/>
ArrayList size를 1 늘리는 작업을 수행하다가, <br/><br/>

size 값과 ArrayList에 있는 아이템 수가 같아진다면, grow()를 호출해서 다시 배열 크기를 늘려주는 작업을 수행합니다. <br/><br/>


