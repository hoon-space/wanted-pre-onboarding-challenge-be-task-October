(1) 동시에 같은 `DB Table row` 를 업데이트 하는 상황을 방어하기 위해 어떻게 개발하실 건지 설명해주세요.

### 애플리케이션에서 `DB Table row` 를 업데이트를 방어하기

1. 수정할 테이블에 row를 읽어온다. 이때 version 값을 기억한다.
2. 수정할 테이블에 row를 수정한다. 수정한 row에 version 값이 1번에서 읽어온 버전값과 다르다면
   다른 곳에서 동시에 접근해 먼저 수정했다는 의미라서 트랜잭션을 rollback 시킨다. 만약 버전값과 일치한다면
   해당 row의 version도 이전 버전의 +1값으로 같이 업데이트한다.

### 데이터베이스에서 `DB Table row` 를 업데이트를 방어하기

데이터베이스에 lock을 걸고 실행하는 방법이다. mysql에서는 락을 얻기 위해 **_SELECT ... FOR UPDATE_**라는 키워드를 지원한다. 이 키워드를 사용하면 해당 작업이 끝날 때까지 다른 요청은 기다리게된다.

위의 두 가지 방법은 낙관적 락, 비관적 락이라고 한다. 낙관적 락과 비관적 락의 차이는 잠금 여부이다. 전자는 데이터베이스의 잠금을 이용하지 않기 때문에 동시에 트랜잭션이 처리될 수 있어서 속도는 빠르다. 반대로 후자는 차례대로 요청이 처리되지만 그 동안 다른 트랜잭션이 대기한다

상황에 따라 사용할 수 있는 락은 달라진다. 동시에 사용할 수 있는 에디터 서비스를 구현해야하는데 덮어쓰기가 가능하다고 한다면 비관적 락을 사용할 수 있다. 그러나 먼저 수정한 사람의 요청만 적용되야한다고 하면 낙관적 락을 사용해야 한다
