
### 1. 동시에 같은 DB Table row 를 업데이트 하는 상황을 방어하기 위해 어떻게 개발하실 건지 설명해주세요.

------


<br>

##### Transaction Isolation Level

격리 수준은 여러 트랜잭션 요청이 동시에 들어왔을때, 각 트랜잭션을 어느정도 수준으로 격리하여 실행할 건지에 따라 나눈 것입니다. 예를 들어 A Table의 1번 row에 관한 여러 트랜잭션이 들어왔을 경우, 크게 읽기, 쓰기 명령을 실행할때 해당 row에 얼마나 각 transaction이 독립적으로 실행될 수 있도록 설정하는 것입니다.

1.  Read Uncommitted : 하나의 트랜잭션이 읽기, 쓰기를 실행할 때, 커밋되기 전에 다른 트랜잭션이 변화를 읽을 수 있음
2.  Read Committed : 하나의 트랜잭션이 읽기, 쓰기를 실행할때, 커밋된 후에 다른 트랜잭션이 변화를 읽을 수 있음
3. Repeatable Read : lock이 걸린 데이터에 대해서 변경을 못하도록 제한.
4. Serializable : 데이터가 트랜잭션 수행중일 때, insert와 delete 도 못하도록 제한한다.

<br>

위에서 아래로 내려갈수록 데이터에 접근이 엄격해집니다. 대부분의 RDB의 기본 격리 수준은 Read Committed입니다. 하지만 가장 고려해야 할 것은 구현할 기능의 특성에 맞춰서 사용할 격리 수준을 다르게 해야한다고 생각합니다. 예를들어 일반적인 게시글 생성, 수정의 경우에는 Read Committed로 구현하면 되지만, 은행 송금 서비스나 개인정보와 같이 민감한 정보를 다루는 트랜잭션일 경우에는 더욱 엄격한 격리 수준이 적용되어야 할것입니다. 예를 들어 이전에 구현했던 PVE 입장 api의 경우, 하나의 row로 PVE 입장 가능 여부를 판단하였기 때문에 수많은 트랜잭션이 동시에 들어올 뿐만 아니라, 리얼타임도 매우 엄격하게 다뤄줬어야 했습니다. 이러한 경우에는 Repeatable Read나 Serializable의 격리 수준을 적용하여 구현하도록 할 것 입니다.

