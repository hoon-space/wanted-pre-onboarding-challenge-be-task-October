(1) 동시에 같은 `DB Table row` 를 업데이트 하는 상황을 방어하기 위해 어떻게 개발하실 건지 설명해주세요.

첫번째로 애플리케이션에서 `DB Table row` 를 업데이트를 방어하기
해당 테이블에 version이라는 컬럼을 추가한다.(꼭 version 이름이 아니어도 된다.)
다음과 같은 트랜잭션을 시작한다.

1. 수정할 테이블에 row를 읽어온다. 이때 version 값을 기억한다.
2. 수정할 테이블에 row를 수정한다. 수정한 row에 version 값이 1번에서 읽어온 버전값과 다르다면
   다른 곳에서 동시에 접근해 먼저 수정했다는 의미라서 트랜잭션을 rollback 시킨다. 만약 버전값과 일치한다면
   해당 row의 version도 이전 버전의 +1값으로 같이 업데이트한다.

두번째로 데이터베이스에서 `DB Table row` 를 업데이트를 방어하기
mysql을 기준으로 기본 트랜잭션 isolation level은 repeated readable인데 이 단계에서는
데이터베이스에서 자체적으로 동시에 수정하는 것을 막는다. 스프링 JPA는전 단계인 read commit를 사용하는데
데이터베이스에서 처리를 하려면 isolation level을 따로 재 설정해줘야 한다

둘 다 동시에 수정하는 것은 막을 수 있지만 애플리케이션에서 업데이트를 방어하는 것은 사용자의 요청을 취소할 수 있고 데이터베이스에서 업데이트를 방어하는 것은 취소할 수 없다. 비지니스 상황에 따라 써야하는 방법이 달라질 수 있다. 예를 들어
영화 예매 시스템을 구축한다고 할 때 수량이 정해져 있는 상황에서 두 번째 방법을 사용하면 동시에 테이블을 수정하는 것은 막을 수 있지만 결과적으로 두명의 요청을 모두 처리하는 것이기 때문에 첫번째 방법을 사용해야 한다
