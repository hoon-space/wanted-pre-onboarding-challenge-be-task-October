**✍️ TCP 와 UDP 의 차이를 작성해주세요.**

❔ OSI 7 Layer

```
Application - Presentation - Session - Transport Network - Data-Link - Physical
```

❔ TCP/IP 4 Layer

```
Application - Transport - Internet - Network Access
```

TCP와 UDP는 전송 계층에서 송신자와 수신자를 연결하는 통신 서비스를 제공함

#### 차이점

| |TCP|UDP|
|--------------|------------------|--------------------|
|연결 방식|연결 지향 프로토콜|비연결 지향 프로토콜|
|패킷 교환 방식|가상 회선 방식|데이터 그램 방식|
|전송 순서|보장|보장하지 않음|
|수신 여부 확인|확인|확인하지 않음|
|통신 방식|1:1 통신|1:1 / 1:N / N:N|
|혼잡 제어|제어함|제어 안함|
|흐름 제어|제어함|제어 안함|
|신뢰성|높음|낮음|
|속도|느림|빠름|
|사용 예시|HTTP, FTP, SMTP|DNS, 실시간 스트리밍|

#### TCP(Transmission Control Protocol)

TCP는 클라이언트와 서버가 연결된 상태에서 데이터를 주고 받는 프로토콜로 패킷 사이의 순서를 보장하기 위해 가상회선 방식을 제공함

가상회선 방식이란 각 패킷에 가상회선 식별자가 포함되며 모든 패킷을 전송하면 가상회선이 해제되고 패킷들은 전송된 순서대로 도착하는 방식

❔ 혼잡 제어

- 네트워크 내의 패킷 수가 넘치게 증가하지 않도록 방지하는 것

❔ 흐름 제어

- 데이터를 송신하는 곳과 수신하는 곳의 데이터 처리 속도를 조절하여 수신자의 버퍼 오버플로우를 방지하는 것

❔ ACK, SYN, FIN

- SYN : 연결을 설정할 때 사용하는 플래그
- ACK : 응답 플래그
- FIN : 연결을 끊을 때 사용하는 플래그

3-Way Handshake

1. 클라이언트는 서버에 ISN(임의의 시퀀스 번호)을 담아 SYN을 보내고 SYN-SEND 상태로 서버의 응답을 기다림
2. 서버가 클라이언트의 SYN을 수신하면 서버는 자신의 ISN(SYN)와 클라이언트의 ISN + 1(ACK)을 보냄
3. 클라이언트는 서버의 ISN + 1을 ACK에 담아 서버에 보냄
4. 서버가 클라이언트의 ACK를 받은 후부터 신뢰성이 구축되면 데이터 송수신이 가능한 연결 상태가 됨
5. 클라이언트가 서버에 패킷을 전송하고 ACK를 수신하지 못하면 일정 시간 이후에 해당 패킷을 재전송하여 데이터 송신의 신뢰성을 높임

4-Way Handshake

1. 클라이언트는 서버에 FIN으로 설정된 세그먼트를 보내고 FIN_WAIT_1 상태로 서버의 응답을 기다림
2. 서버는 클라이언트로 ACK라는 승인 세그먼트를 보내고 CLOSE_WAIT 상태로 대기함
3. 클라이언트는 FIN_WAIT_2 상태로 변경되고 서버는 ACK를 보내서 일정 시간 이후에 FIN이라는 세그먼트를 보냄
4. 클라이언트는 TIME_WAIT 상태가 되고 다시 서버로 ACK를 보내서 서버는 CLOSED 상태가 됨
5. 이후 클라이언트는 어느 정도의 시간을 대기한 후 연결이 닫히고 클라이언트와 서버의 모든 자원이 해제됨

#### UDP(User Datagram Protocol)

UDP는 순서를 보장하지 않고 수신 여부를 확인하지 않으며 단순히 데이터만 주는 데이터그램 패킷 교환 방식을 사용함

데이터그램 패킷 교환 방식은 패킷이 독립적으로 이동하며 최적의 경로를 선택하여 이동함

하나의 메시지에서 분할된 여러 패킷은 서로 다른 경로로 전송될 수 있으며 도착하는 순서가 다를 수 있음

TCP의 안정성이 필요치 않을 경우 오버헤드가 작고 지연시간이 짧은 UDP가 사용될 수 있으며 데이터를 주고 받을 때 연결 절차를 거치지 않고 발신자가 일방적으로 데이터를 발신함
